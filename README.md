# RADAR-target-generation-and-detection
In this project, an FMCW RADAR is configured. The transmit and receive signals are processed using FFT and CFAR to determine the range and velocity of the target"

## Project overview
![radar overview](https://user-images.githubusercontent.com/48198017/147384345-3214cb23-d2a4-4d0f-8069-7702290f0dce.PNG)

The above picture outlines the project pipeline.

## FMCW RADAR system configuration
![image](https://user-images.githubusercontent.com/48198017/147384420-d3192d74-2397-49de-8b6f-86602ee84b20.png)

The initial range and velocity of the target are set to be: 
* R = 120 meters
* V = -20 meters/sec

The bandwidth, chirp time and slope of the chirp signal are calculated according to the following formulas
![image](https://user-images.githubusercontent.com/48198017/147384457-723a9aa0-503c-449f-8044-28e9135bb5da.png)
![image](https://user-images.githubusercontent.com/48198017/147384461-3810b13f-9b8c-461a-a30a-07ae3bb32c20.png)
![image](https://user-images.githubusercontent.com/48198017/147384466-1df91916-87f6-4fa7-b734-6a26885b5b88.png)

where Rmax is the maximum range of the RADAR and c is the speed of light.

## Modeling signal propagation for moving target scenario

The transmission and received signals are characterised by the following equations.

![image](https://user-images.githubusercontent.com/48198017/147384507-82b52a36-bce1-4c37-bee6-ff042bfbea8b.png)

The beat signal is computed as a product of transmission and received signal. The result is characterised by the following equation: 
![image](https://user-images.githubusercontent.com/48198017/147384524-02758f9b-a970-4db9-acc4-8ba42eef068d.png)

## FFT: Range estimation
A 1D FFT is implemented on the best signal to estimate the range of the target. 

FFT implementation: 
* The beat signal is reshaped into a 2D vector of size (Nr, Nd). where Nr is the sampling frequency per chirp and Nd is the total number of chirps in a chirp sequence. 
* FFT is run on the beat signal along the range bins dimension (Nr)
* The output of the FFT is normalized
* Since the second half of the output is a mirror image of the first half, only the first half of the image is retained. 
* The output is plotted 
* The peak rightly estimates the range of the target as follows: 
![image](https://user-images.githubusercontent.com/48198017/147384741-1e7a4fc3-36bd-490d-8573-9d500c6eea58.png)

## Range Doppler Map (RDM)

The Range Doppler map is generated by running a 2D FFT on the reshaped beat signal. The implementation is as follows: 
* A 2D FFT is run over the beat signal of dimension (Nr, Nd)
* Only the first half of the output, in range dimension, is retained. 
* The absolute value of the RDM is computed and the logarithmic values of it are computed. 
* The resulting RDM is visualized as follows: 
![image](https://user-images.githubusercontent.com/48198017/147384810-0f67c2a1-5313-4e1f-9211-f0ef691e0408.png)

From the above image, it can be observed that the map has a significant amount of noise. A constant threshold factor to detect peaks can potentially lead to a high rate of false alarms. To significantly overcome this problem, an adaptive Constant False Alarm Rate filter is applied to RDM as shown in the next section

## Continous False Alarm Rate (CFAR)
A 2D CFAR filter, that suppresses the noise and computes a dynamic threshold to maintain a constant false alarm rate is implemented as follows: 
* A filter of following configuratin is considered: 
<img src="https://user-images.githubusercontent.com/48198017/147384857-dee6d2a9-7c41-43f6-ad20-7714ce715ad4.png" width="400" height="250" />

* The number of training cells and guard cells are iteratively determined. 
* The filter is slid over the complete RDM. 
* The mean of all the training cells around each cell of interest is computed. This mean is considered as the initial threshold.
* An offset (Iteratively fine-tuned) is added to the threshold in the previous step, resulting in the final threshold.
* Thus a vector of thresholds for each cell of interest is computed. 
* The RDM is filtered according to the latest, dynamic, threshold values. This results in the following map, which contains only the valid target signal:
<img src="https://user-images.githubusercontent.com/48198017/147384975-9fed51b6-b38e-4e83-bb6b-a252e1b854c3.png" />


## Conclusion
Thus a pipeline is built to:
* Configure an FMCW RADAR
* Generate transmission and receiving a signal
* Estimate the range of the target 
* Generate Range Doppler Map (RDM)
* Filter RDM through CFAR and determine the range and velocity of the object with a reduced number of false alarms
